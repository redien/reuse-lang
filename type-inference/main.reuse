
(def definition-type (definition)
     (match (definition-meta definition)
            (TypeAnnotation type _)  type))

(def stringify-definitions (definitions)
     (stringify-types (list-map definition-type definitions)))

(def main (stdin)
     (match (result-concat (sexps-to-definitions (parse stdin)))
            (Result definitions)  (string-join (list 32) (stringify-definitions (infer-types definitions)))
            (Error error)         Empty))
